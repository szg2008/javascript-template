<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Reference</title>
    <script src="lib/handlebars.min.js"></script>
</head>
<body>
<script id="entry-template" type="text/x-handlebars-template">
    <div class="comments">
        {{#each comments}}
        {{@root.title}}
        {{@root.story.intro}}
        {{/each}}
        <br>
        {{#each comments}}
        {{#if @first}}
        <p>First!</p>
        {{else}}
        <p>{{subject}}</p>
        {{/if}}
        {{/each}}
        <br>
        {{#each comments}}
        <p>{{@index}}</p>
        {{/each}}
        <br>
        {{#each story}}
        <p>{{@key}}</p>
        {{/each}}
        <br>
        {{#each comments}}
        {{#if @last}}
        <p>Last</p>
        {{else}}
        <p>{{body}}</p>
        {{/if}}
        {{/each}}
        <br>
        {{@level}}
    </div>
</script>
<script>
    var content = {
        title: "My New Post",
        body: "This is my first post!",
        story:{
            intro:'Before the jump',
            body:'After the jump'
        },
        comments:[
            {subject:'comments_subject001',body:'comments_body001'},
            {subject:'comments_subject002',body:'comments_body002'}
        ],
        nav:[
            {url: 'foo', test: true, title: 'bar'},
            {url: 'bar'}
        ]
    };
    var source = document.getElementById('entry-template').innerHTML;//获取模板的内容
    //    var templateSpec = Handlebars.precompile('{{foo}}');
    //    var template = Handlebars.template(templateSpec);
    //    template({});
    //var otherHandlebars = Handlebars.create();//创建一个新的Handlebars对象
    var template = Handlebars.compile(source);//编译模板
    var html = template(content);//生成相应的html
    document.body.innerHTML = html;
    Handlebars.log(4, 'error');
    Handlebars.log(4,Handlebars.Utils.isEmpty(''));
    Handlebars.log(4,Handlebars.Utils.extend(content.story,{bar:true}));
    Handlebars.log(4,Handlebars.Utils.toString());
    Handlebars.log(4,Handlebars.Utils.isArray(content.comments));
    Handlebars.log(4,Handlebars.Utils.isFunction(content.comments));
</script>
</body>
</html>